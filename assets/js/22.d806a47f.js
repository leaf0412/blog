(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{475:function(s,t,a){"use strict";a.r(t);var r=a(4),e=Object(r.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"什么是xss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是xss"}},[s._v("#")]),s._v(" 什么是xss")]),s._v(" "),a("ul",[a("li",[s._v("英文名称：cross site scripting")]),s._v(" "),a("li",[s._v("中文名称：跨站脚本攻击")])]),s._v(" "),a("h2",{attrs:{id:"scripting-能干嘛"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scripting-能干嘛"}},[s._v("#")]),s._v(" scripting 能干嘛")]),s._v(" "),a("ul",[a("li",[s._v("获取页面数据")]),s._v(" "),a("li",[s._v("获取cookies")]),s._v(" "),a("li",[s._v("劫持前端逻辑")]),s._v(" "),a("li",[s._v("发送网络请求")]),s._v(" "),a("li",[s._v("偷取网站任意数据")]),s._v(" "),a("li",[s._v("偷取用户资料")]),s._v(" "),a("li",[s._v("偷取用户密码和登录状态")]),s._v(" "),a("li",[s._v("欺骗用户等等")])]),s._v(" "),a("p",[s._v("最常见的操作手段就是通过短信和社交网站发送一些存在xss的网址，在网址中加上脚本攻击，引导别人去点击，从而获取用户信息等一系列操作")]),s._v(" "),a("h2",{attrs:{id:"xss-攻击分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xss-攻击分类"}},[s._v("#")]),s._v(" xss 攻击分类")]),s._v(" "),a("ul",[a("li",[s._v("反射型  ==> 主要是通过url参数直接注入")]),s._v(" "),a("li",[s._v("存储型  ==> 主要是存储到数据库后读取时注入")])]),s._v(" "),a("h2",{attrs:{id:"xss-攻击注入点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xss-攻击注入点"}},[s._v("#")]),s._v(" xss 攻击注入点")]),s._v(" "),a("ul",[a("li",[s._v("html节点内容  ==> html中节点的内容是动态生成的，容易加入脚本")]),s._v(" "),a("li",[s._v("html属性")]),s._v(" "),a("li",[s._v("javascript代码  ==> 获取后台数据的变量和用户输入数据")]),s._v(" "),a("li",[s._v("富文本  ==> 富文本是包含一大片html标签")])]),s._v(" "),a("h2",{attrs:{id:"xss-防御"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xss-防御"}},[s._v("#")]),s._v(" xss 防御")]),s._v(" "),a("h3",{attrs:{id:"html节点内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html节点内容"}},[s._v("#")]),s._v(" html节点内容")]),s._v(" "),a("ul",[a("li",[s._v("转义html节点的尖括号 < >")])]),s._v(" "),a("h3",{attrs:{id:"html属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html属性"}},[s._v("#")]),s._v(" html属性")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<img class="#{class}">\n<img class="hello" onload="alert(1)"> \n')])])]),a("ul",[a("li",[s._v("转义html属性的单引号 ' ' 双引号 \"")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 针对html节点和属性的代码\nfunction escapeHtml(str) {\n  if(!str) return str;\n  str = str.replace(/&/g, '&amp;')\n  str = str.replace(/</g, '&lt;')\n  str = str.replace(/>/g, '&gt;')\n  str = str.replace(/'/g, '&#39;')\n  str = str.replace(/\"/g, '&quot;')\n  str = str.replace(/ /g, '&#32;')\n  return str;\n}\n")])])]),a("h3",{attrs:{id:"js代码注入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#js代码注入"}},[s._v("#")]),s._v(" js代码注入")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("function escapeFoJs(str) {\n  if (!str) return str;\n  str = JSON.stringify(str);\n  return str;\n}\n")])])]),a("h3",{attrs:{id:"富文本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#富文本"}},[s._v("#")]),s._v(" 富文本")]),s._v(" "),a("ul",[a("li",[s._v("按照白名单保留部分标签和属性 ==> 快捷开发的话 安装xss库 也可以自己配置白名单")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var xss = require('xss');\nfunction xssFilter(html) {\n  if (!html) return '';\n  var content = xss(html);\n  return content;\n}\n")])])]),a("h2",{attrs:{id:"csp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#csp"}},[s._v("#")]),s._v(" csp")]),s._v(" "),a("ul",[a("li",[s._v("csp 是 content security Policy 内容安全策略")]),s._v(" "),a("li",[s._v("一般用于指定哪些内容可以执行")])])])}),[],!1,null,null,null);t.default=e.exports}}]);